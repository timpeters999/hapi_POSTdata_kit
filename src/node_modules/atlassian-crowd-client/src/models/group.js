export default class Group {
  constructor(groupname, description = '', active = true, attributes = {}) {
    this.groupname = groupname;
    this.description = description;
    this.active = active;
    this.attributes = attributes;
  }

  toCrowd() {
    let obj = {
      type: 'GROUP',
      name: this.groupname,
      description: this.description,
      active: this.active
    };
    return obj;
  }

  static fromCrowd({ name, description, active, attributes}) {
    
    var attr = {};
    if(attributes.attributes.length > 0){
      attributes.attributes.forEach(function (attribute) {
        attr[attribute.name] = JSON.parse(attribute.values[0]);
      });
    }

    return new Group(name, description, active, attr);
  }
}
